<div class="skills-container card p-4 shadow-sm">
  <h4 class="mb-3 text-primary fw-bold text-center">Technical Skills</h4>

  <!-- Loop through each category -->
  <div *ngFor="let category of (groupedSkills | keyvalue)">
    <h5 class="category-header mt-4 text-secondary border-bottom pb-1">
      {{ category.key }}
    </h5>

    <!-- Two-column skill grid -->
    <div class="row mt-3">
      <div
        class="col-md-6 mb-3"
        *ngFor="let skill of category.value; let i = index"
      >
        <!-- Skill Item -->
        <div
          class="skill-item d-flex align-items-center gap-2 p-2 px-3 rounded border shadow-sm bg-light"
          (click)="toggleSkill(category.key, i)"
          role="button"
        >
          <img [src]="skill.icon" [alt]="skill.name" width="24" height="24" />
          <span class="fw-semibold">{{ skill.name }}</span>
        </div>

        <!-- Inline detail -->
        <div
          *ngIf="isSkillSelected(category.key, i)"
          class="skill-detail animate__animated animate__fadeInDown mt-2 p-3 rounded bg-white border"
        >
          <button
            class="btn-close float-end"
            (click)="toggleSkill(category.key, i)"
          ></button>
          <div class="text-center mt-2">
            <img
              [src]="skill.icon"
              [alt]="skill.name"
              width="64"
              height="64"
              class="mb-2"
            />
            <h6 class="fw-bold">{{ skill.name }}</h6>
            <p class="text-muted small">{{ skill.description }}</p>
            <a
              [href]="skill.url"
              target="_blank"
              class="btn btn-outline-primary btn-sm mt-2"
            >
              Explore {{ skill.name }}
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
