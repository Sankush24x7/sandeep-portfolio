<div class="card shadow-sm p-4 text-center" id="atr-score">
  <h4 class="text-primary mb-3">ATS Resume Analyzer</h4>

  <input
    type="file"
    id="fileUpload"
    class="form-control mb-3"
    (change)="onFileSelected($event)"
    accept=".pdf,.doc,.docx"
  />

  <button
    class="btn btn-primary"
    [disabled]="!selectedFile || loading"
    (click)="analyzeResume()"
  >
    {{ loading ? 'Analyzing...' : 'Analyze Resume' }}
  </button>

  <div *ngIf="score !== null" class="mt-4 animate__animated animate__fadeIn">
    <h5>Your ATS Score: <span class="text-success fw-bold">{{ score }}%</span></h5>

    <div *ngIf="breakdown" class="mt-3 text-start">
      <h6 class="text-secondary">Breakdown:</h6>
      <ul class="list-group small">
        <li *ngFor="let key of objectKeys(breakdown)" class="list-group-item d-flex justify-content-between">
          <span>{{ key }}</span> <strong>{{ breakdown[key] }}%</strong>
        </li>
      </ul>
    </div>

    <div *ngIf="suggestions.length" class="mt-3 text-start">
      <h6 class="text-secondary">Suggestions:</h6>
      <ul>
        <li *ngFor="let s of suggestions">{{ s }}</li>
      </ul>
    </div>

    <div *ngIf="pdfUrl" class="mt-3">
      <a [href]="pdfUrl" target="_blank" class="btn btn-outline-success btn-sm">
        ðŸ“„ Download Full ATS Report
      </a>
    </div>
  </div>
</div>
